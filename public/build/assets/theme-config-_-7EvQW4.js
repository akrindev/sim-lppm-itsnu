const r={theme:"light","theme-base":"neutral","theme-font":"sans-serif","theme-primary":"green","theme-radius":"1"};class a{constructor(t){this.config=t,this.form=document.getElementById("offcanvasSettings"),this.resetButton=document.getElementById("reset-changes"),this.url=new URL(window.location),this.initialize()}initialize(){this.parseUrlParams(),this.loadSettings(),this.setupEventListeners()}parseUrlParams(){new URLSearchParams(window.location.search).forEach((e,i)=>{i in this.config&&this.setThemeAttribute(i,e)})}setThemeAttribute(t,e){e&&(document.documentElement.setAttribute(`data-bs-${t}`,e),window.localStorage.setItem(`tabler-${t}`,e))}removeThemeAttribute(t){document.documentElement.removeAttribute(`data-bs-${t}`),window.localStorage.removeItem(`tabler-${t}`),this.url.searchParams.delete(t)}loadSettings(){for(const t in this.config){if(!document.documentElement.getAttribute(`data-bs-${t}`)){const s=window.localStorage.getItem(`tabler-${t}`)??this.config[t];s&&this.setThemeAttribute(t,s)}if(this.form){const i=document.documentElement.getAttribute(`data-bs-${t}`)||this.config[t];this.form.querySelectorAll(`[name="${t}"]`).forEach(n=>{n.checked=n.value===i})}}}setupEventListeners(){this.form&&this.form.addEventListener("change",t=>{this.handleFormChange(t)}),this.resetButton&&this.resetButton.addEventListener("click",()=>{this.resetTheme()})}handleFormChange(t){const{name:e,value:i}=t.target;e in this.config&&(this.setThemeAttribute(e,i),this.url.searchParams.set(e,i),window.history.pushState({},"",this.url))}resetTheme(){for(const t in this.config)this.removeThemeAttribute(t);this.loadSettings(),window.history.pushState({},"",this.url)}}const o=()=>{new a(r)};document.addEventListener("livewire:navigated",o);
